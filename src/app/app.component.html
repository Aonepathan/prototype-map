<head>
  <link href="https://fonts.googleapis.com/css?family=Geo" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Geostar+Fill" rel="stylesheet">
</head>


<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="map">
        <!-- this creates a google map on the page with the given lat/lng from -->
        <!-- the component as the initial center of the map: -->
        <agm-map
          [latitude]="lat"
          [longitude]="lon"
          [zoom]="zoom"
          [disableDefaultUI]=false
          [zoomControl]="false"
          (mapClick)="mapClicked($event)">
          <agm-marker
            *ngFor="let m of markerJSON; let i = index"
            (markerClick)="clickedMarker(m,i)"
            [latitude]="m.lat"
            [longitude]="m.lon"
            [markerDraggable]="m.draggable"
            (dragEnd)="markerDragEnd(m, $event)"
            >
            <agm-info-window>
              <strong>{{m.name}}</strong>
            </agm-info-window>
          </agm-marker>
          <agm-polyline></agm-polyline>
          <agm-circle [latitude]="lat + 0.3" [longitude]="lon"
          [radius]="5000"
          [fillColor]="'red'"
          [circleDraggable]="true"
          [editable]="true">
        </agm-circle>
        <ng-container>
           <agm-polyline *ngFor="let polyline of polylines;let i = index;"  [strokeColor]="polyline.color">
              <agm-polyline-point *ngFor="let point of polyline.path" [latitude]="point.latitude" [longitude]="point.longitude">
              </agm-polyline-point>
          </agm-polyline>
        </ng-container>
        </agm-map>
      </div>
    </div>
  </div>
</div>
<h1>{{ title }}</h1>
